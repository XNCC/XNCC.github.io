{"title":"基于ssm的增删改查操作样例","date":"2019-07-08T15:00:25.235Z","link":"post/基于ssm框架实现增删改查操作","tags":["springboot，maven，easyUI"],"updated":"2019-07-08T15:34:58.655Z","content":"<div class=\"article-img\"><p><img src=\"https://i.loli.net/2019/07/08/5d235b33ade1347890.png\" alt data-zoomable></p></div>\n<p><strong><a id=\"more\"></a></strong></p>\n<h3 id=\"目录结构\">目录结构<a href=\"post/基于ssm框架实现增删改查操作#目录结构\"></a></h3><div class=\"article-img\"><p><img src=\"https://i.loli.net/2019/07/08/5d235b926494915812.png\" alt data-zoomable></p></div>\n<h3 id=\"1-主要前台代码\">1,主要前台代码<a href=\"post/基于ssm框架实现增删改查操作#1-主要前台代码\"></a></h3><figure class=\"highlight bash\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%@ page language=<span class=\"string\">\"java\"</span> import=<span class=\"string\">\"java.util.*\"</span> pageEncoding=<span class=\"string\">\"utf-8\"</span> %&gt;</span><br><span class=\"line\">&lt;!DOCTYPE HTML PUBLIC <span class=\"string\">\"-//W3C//DTD HTML 4.01 Transitional//EN\"</span>&gt;</span><br><span class=\"line\">&lt;html&gt;</span><br><span class=\"line\">&lt;head&gt;</span><br><span class=\"line\">    &lt;title&gt;客户管理&lt;/title&gt;</span><br><span class=\"line\">    &lt;meta http-equiv=<span class=\"string\">\"pragma\"</span> content=<span class=\"string\">\"no-cache\"</span>&gt;</span><br><span class=\"line\">    &lt;meta http-equiv=<span class=\"string\">\"cache-control\"</span> content=<span class=\"string\">\"no-cache\"</span>&gt;</span><br><span class=\"line\">    &lt;meta http-equiv=<span class=\"string\">\"expires\"</span> content=<span class=\"string\">\"0\"</span>&gt;</span><br><span class=\"line\">    &lt;meta http-equiv=<span class=\"string\">\"keywords\"</span> content=<span class=\"string\">\"keyword1,keyword2,keyword3\"</span>&gt;</span><br><span class=\"line\">    &lt;meta http-equiv=<span class=\"string\">\"description\"</span> content=<span class=\"string\">\"This is my page\"</span>&gt;</span><br><span class=\"line\">    &lt;!-- 导入easyui的资源文件 --&gt;</span><br><span class=\"line\">    &lt;script <span class=\"built_in\">type</span>=<span class=\"string\">\"text/javascript\"</span> src=<span class=\"string\">\"easyui/jquery.min.js\"</span>&gt;&lt;/script&gt;</span><br><span class=\"line\">    &lt;script <span class=\"built_in\">type</span>=<span class=\"string\">\"text/javascript\"</span> src=<span class=\"string\">\"easyui/jquery.easyui.min.js\"</span>&gt;&lt;/script&gt;</span><br><span class=\"line\">    &lt;script <span class=\"built_in\">type</span>=<span class=\"string\">\"text/javascript\"</span> src=<span class=\"string\">\"easyui/locale/easyui-lang-zh_CN.js\"</span>&gt;&lt;/script&gt;</span><br><span class=\"line\">    &lt;link rel=<span class=\"string\">\"stylesheet\"</span> <span class=\"built_in\">type</span>=<span class=\"string\">\"text/css\"</span> href=<span class=\"string\">\"easyui/themes/icon.css\"</span>&gt;</span><br><span class=\"line\">    &lt;link id=<span class=\"string\">\"themeLink\"</span> rel=<span class=\"string\">\"stylesheet\"</span> <span class=\"built_in\">type</span>=<span class=\"string\">\"text/css\"</span> href=<span class=\"string\">\"easyui/themes/default/easyui.css\"</span>&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">&lt;table id=<span class=\"string\">\"list\"</span>&gt;&lt;/table&gt;</span><br><span class=\"line\">&lt;!-- 工具条 --&gt;</span><br><span class=\"line\">&lt;div id=<span class=\"string\">\"tb\"</span>&gt;</span><br><span class=\"line\">    &lt;a id=<span class=\"string\">\"addBtn\"</span> href=<span class=\"string\">\"#\"</span> onclick=<span class=\"string\">\"newUser()\"</span> class=<span class=\"string\">\"easyui-linkbutton\"</span> data-options=<span class=\"string\">\"iconCls:'icon-add',plain:true\"</span>&gt;添加&lt;/a&gt;</span><br><span class=\"line\">    &lt;a id=<span class=\"string\">\"editBtn\"</span> href=<span class=\"string\">\"#\"</span> onclick=<span class=\"string\">\"editUser()\"</span> class=<span class=\"string\">\"easyui-linkbutton\"</span> data-options=<span class=\"string\">\"iconCls:'icon-edit',plain:true\"</span>&gt;修改&lt;/a&gt;</span><br><span class=\"line\">    &lt;a id=<span class=\"string\">\"deleteBtn\"</span> href=<span class=\"string\">\"#\"</span> onclick=<span class=\"string\">\"destroyUser()\"</span> class=<span class=\"string\">\"easyui-linkbutton\"</span> data-options=<span class=\"string\">\"iconCls:'icon-remove',plain:true\"</span>&gt;删除&lt;/a&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;!--接收后台数据--&gt;</span><br><span class=\"line\">&lt;script <span class=\"built_in\">type</span>=<span class=\"string\">\"text/javascript\"</span>&gt;</span><br><span class=\"line\">    $(<span class=\"function\"><span class=\"title\">function</span></span> () &#123;</span><br><span class=\"line\">        $(<span class=\"string\">\"#list\"</span>).datagrid(&#123;</span><br><span class=\"line\">            //url为</span><br><span class=\"line\">            url: <span class=\"string\">\"listBypage\"</span>,</span><br><span class=\"line\">            columns: [[</span><br><span class=\"line\">                //第一列</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    field: <span class=\"string\">\"id\"</span>,</span><br><span class=\"line\">                    title: <span class=\"string\">\"客户编号\"</span>,</span><br><span class=\"line\">                    width: 100</span><br><span class=\"line\">                &#125;,</span><br><span class=\"line\">                //第二列</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    field: <span class=\"string\">\"name\"</span>,</span><br><span class=\"line\">                    title: <span class=\"string\">\"客户姓名\"</span>,</span><br><span class=\"line\">                    width: 100</span><br><span class=\"line\">                &#125;,</span><br><span class=\"line\">                //第三列</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    field: <span class=\"string\">\"gender\"</span>,</span><br><span class=\"line\">                    title: <span class=\"string\">\"客户性别\"</span>,</span><br><span class=\"line\">                    width: 100</span><br><span class=\"line\">                &#125;,</span><br><span class=\"line\">                //第四列</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">                    field: <span class=\"string\">\"telephone\"</span>,</span><br><span class=\"line\">                    title: <span class=\"string\">\"客户电话\"</span>,</span><br><span class=\"line\">                    width: 100</span><br><span class=\"line\">                &#125;,</span><br><span class=\"line\">                //第五列</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    field: <span class=\"string\">\"address\"</span>,</span><br><span class=\"line\">                    title: <span class=\"string\">\"客户地址\"</span>,</span><br><span class=\"line\">                    width: 100</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            ]],</span><br><span class=\"line\">            //前台</span><br><span class=\"line\">            //（1）添加pagination</span><br><span class=\"line\">            //（2）使用分页插件时需要向后台发送两个参数</span><br><span class=\"line\">            //（3）page   ：当前页码</span><br><span class=\"line\">            //（4）rows   ：每页记录数</span><br><span class=\"line\">            //后台</span><br><span class=\"line\">            //（1）需要接受page和rows参数</span><br><span class=\"line\">            //（2）根据参数分页查询</span><br><span class=\"line\">            //（3）获取结果</span><br><span class=\"line\">            //（4）返回给页面</span><br><span class=\"line\">            //（5）返回参数中包含</span><br><span class=\"line\">            // total  ：总记录数</span><br><span class=\"line\">            //rows    ：当前也数据列表</span><br><span class=\"line\">            pagination:<span class=\"literal\">true</span>,</span><br><span class=\"line\">            toolbar:<span class=\"string\">\"#tb\"</span>  //工具条是上面的tb23行</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;!--添加和修改事件所用的对话框--&gt;</span><br><span class=\"line\">&lt;div id=<span class=\"string\">\"dlg\"</span> class=<span class=\"string\">\"easyui-dialog\"</span> style=<span class=\"string\">\"width:400px;height:280px;padding:10px 20px\"</span></span><br><span class=\"line\">     closed=<span class=\"string\">\"true\"</span> buttons=<span class=\"string\">\"#dlg-buttons\"</span>&gt;</span><br><span class=\"line\">    &lt;div class=<span class=\"string\">\"ftitle\"</span>&gt;User Information&lt;/div&gt;</span><br><span class=\"line\">    &lt;form id=<span class=\"string\">\"fm\"</span> method=<span class=\"string\">\"post\"</span>&gt;</span><br><span class=\"line\">        &lt;div class=<span class=\"string\">\"fitem\"</span>&gt;</span><br><span class=\"line\">            &lt;label&gt;客户编号:&lt;/label&gt;</span><br><span class=\"line\">            &lt;input name=<span class=\"string\">\"id\"</span> class=<span class=\"string\">\"easyui-validatebox\"</span> &gt;</span><br><span class=\"line\">        &lt;/div&gt;</span><br><span class=\"line\">        &lt;div class=<span class=\"string\">\"fitem\"</span>&gt;</span><br><span class=\"line\">            &lt;label&gt;客户姓名:&lt;/label&gt;</span><br><span class=\"line\">            &lt;input name=<span class=\"string\">\"name\"</span> class=<span class=\"string\">\"easyui-validatebox\"</span> required=<span class=\"string\">\"true\"</span>&gt;</span><br><span class=\"line\">        &lt;/div&gt;</span><br><span class=\"line\">        &lt;div class=<span class=\"string\">\"fitem\"</span>&gt;</span><br><span class=\"line\">            &lt;label&gt;性别:&lt;/label&gt;</span><br><span class=\"line\">            &lt;input name=<span class=\"string\">\"gender\"</span>&gt;</span><br><span class=\"line\">        &lt;/div&gt;</span><br><span class=\"line\">        &lt;div class=<span class=\"string\">\"fitem\"</span>&gt;</span><br><span class=\"line\">            &lt;label&gt;电话:&lt;/label&gt;</span><br><span class=\"line\">            &lt;input name=<span class=\"string\">\"telephone\"</span> class=<span class=\"string\">\"easyui-validatebox\"</span> validType=<span class=\"string\">\"true\"</span>&gt;</span><br><span class=\"line\">        &lt;/div&gt;</span><br><span class=\"line\">        &lt;div class=<span class=\"string\">\"fitem\"</span>&gt;</span><br><span class=\"line\">            &lt;label&gt;地址:&lt;/label&gt;</span><br><span class=\"line\">            &lt;input name=<span class=\"string\">\"address\"</span> class=<span class=\"string\">\"easyui-validatebox\"</span> validType=<span class=\"string\">\"true\"</span>&gt;</span><br><span class=\"line\">        &lt;/div&gt;</span><br><span class=\"line\">    &lt;/form&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br><span class=\"line\">&lt;div id=<span class=\"string\">\"dlg-buttons\"</span>&gt;</span><br><span class=\"line\">    &lt;a href=<span class=\"string\">\"#\"</span> class=<span class=\"string\">\"easyui-linkbutton\"</span> iconCls=<span class=\"string\">\"icon-ok\"</span> onclick=<span class=\"string\">\"saveUser()\"</span>&gt;Save&lt;/a&gt;</span><br><span class=\"line\">    &lt;a href=<span class=\"string\">\"#\"</span> class=<span class=\"string\">\"easyui-linkbutton\"</span> iconCls=<span class=\"string\">\"icon-cancel\"</span> onclick=<span class=\"string\">\"javascript:<span class=\"variable\">$('#dlg')</span>.dialog('close')\"</span>&gt;Cancel&lt;/a&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">    var url;</span><br><span class=\"line\">    //打开新窗口</span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">newUser</span></span>()&#123;</span><br><span class=\"line\">        $(<span class=\"string\">'#dlg'</span>).dialog(<span class=\"string\">'open'</span>).dialog(<span class=\"string\">'setTitle'</span>,<span class=\"string\">'New User'</span>);</span><br><span class=\"line\">        $(<span class=\"string\">'#fm'</span>).form(<span class=\"string\">'clear'</span>);</span><br><span class=\"line\">        url = <span class=\"string\">'/saveUser'</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    //编辑用户</span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">editUser</span></span>()&#123;</span><br><span class=\"line\">        var row = $(<span class=\"string\">'#list'</span>).datagrid(<span class=\"string\">'getSelected'</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (row)&#123;</span><br><span class=\"line\">            $(<span class=\"string\">'#dlg'</span>).dialog(<span class=\"string\">'open'</span>).dialog(<span class=\"string\">'setTitle'</span>,<span class=\"string\">'Edit User'</span>);</span><br><span class=\"line\">            $(<span class=\"string\">'#fm'</span>).form(<span class=\"string\">'load'</span>,row);</span><br><span class=\"line\">            //设置要更新的url ?id=<span class=\"string\">'+row.id</span></span><br><span class=\"line\"><span class=\"string\">            url = '</span>/updateUser<span class=\"string\">';</span></span><br><span class=\"line\"><span class=\"string\">        &#125;</span></span><br><span class=\"line\"><span class=\"string\">    &#125;</span></span><br><span class=\"line\"><span class=\"string\">    //向服务器保存数据</span></span><br><span class=\"line\"><span class=\"string\">    function saveUser()&#123;</span></span><br><span class=\"line\"><span class=\"string\">        //根据url发出请求</span></span><br><span class=\"line\"><span class=\"string\">        $('</span><span class=\"comment\">#fm').form('submit',&#123;</span></span><br><span class=\"line\">            url: url,</span><br><span class=\"line\">            onSubmit: <span class=\"function\"><span class=\"title\">function</span></span>()&#123;</span><br><span class=\"line\">                <span class=\"built_in\">return</span> $(this).form(<span class=\"string\">'validate'</span>);</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            success: <span class=\"keyword\">function</span>(result)&#123;</span><br><span class=\"line\">                $(<span class=\"string\">'#list'</span>).datagrid(<span class=\"string\">'reload'</span>);    // reload the user data</span><br><span class=\"line\">                $(<span class=\"string\">'#dlg'</span>).dialog(<span class=\"string\">'close'</span>);        // close the dialog</span><br><span class=\"line\">                $(<span class=\"string\">'#dg'</span>).datagrid(<span class=\"string\">'reload'</span>);    // reload the user data</span><br><span class=\"line\">                var result = <span class=\"built_in\">eval</span>(<span class=\"string\">'('</span>+result+<span class=\"string\">')'</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">        alert(<span class=\"string\">\"保存\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    //删除用户</span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">destroyUser</span></span>()&#123;</span><br><span class=\"line\">        var row = $(<span class=\"string\">'#list'</span>).datagrid(<span class=\"string\">'getSelected'</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (row)&#123;</span><br><span class=\"line\">            $.messager.confirm(<span class=\"string\">'Confirm'</span>,<span class=\"string\">'Are you sure you want to destroy this user?'</span>,<span class=\"keyword\">function</span>(r)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (r)&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">                    //提交删除请求</span><br><span class=\"line\">                    // $.post(<span class=\"string\">'/destroyUser'</span>,&#123;id:row.id&#125;,<span class=\"keyword\">function</span>(result)&#123;</span><br><span class=\"line\">                    //     $(<span class=\"string\">'#list'</span>).datagrid(<span class=\"string\">'reload'</span>);    // reload the user data</span><br><span class=\"line\">                    //     <span class=\"keyword\">if</span> (result.success)&#123;</span><br><span class=\"line\">                    //         $(<span class=\"string\">'#list'</span>).datagrid(<span class=\"string\">'reload'</span>);    // reload the user data</span><br><span class=\"line\">                    //     &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    //         $.messager.show(&#123;    // show error message</span><br><span class=\"line\">                    //             title: <span class=\"string\">'Error'</span>,</span><br><span class=\"line\">                    //             msg: result.errorMsg</span><br><span class=\"line\">                    //         &#125;);</span><br><span class=\"line\">                    //     &#125;</span><br><span class=\"line\">                    // &#125;,<span class=\"string\">'json'</span>);</span><br><span class=\"line\">                    // alert(<span class=\"string\">\"删除成功\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">                    //删减后的删除提交请求   这里有一个小坑，如果后台controller不返回数据，这里的回调函数是不会执行的，这样的话刷新炒作就不会执行</span><br><span class=\"line\">                    $.post(<span class=\"string\">'/destroyUser'</span>,&#123;id:row.id&#125;,<span class=\"keyword\">function</span>(data)&#123;</span><br><span class=\"line\">                        $(<span class=\"string\">'#list'</span>).datagrid(<span class=\"string\">'reload'</span>);    // reload the user data</span><br><span class=\"line\">                        alert(<span class=\"string\">\"刷新的吗？\"</span>);</span><br><span class=\"line\">                        $(<span class=\"string\">'#list'</span>).datagrid(<span class=\"string\">'reload'</span>);</span><br><span class=\"line\">                    &#125;,<span class=\"string\">'text'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">&lt;/html&gt;</span><br></pre></td></tr></table></div></figure>\n\n<h3 id=\"2-后台代码\">2,后台代码<a href=\"post/基于ssm框架实现增删改查操作#2-后台代码\"></a></h3><figure class=\"highlight plain\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import java.util.HashMap;</span><br><span class=\"line\">import java.util.List;</span><br><span class=\"line\">import java.util.Map;</span><br><span class=\"line\">import javax.annotation.Resource;</span><br><span class=\"line\">import org.springframework.stereotype.Controller;</span><br><span class=\"line\">import org.springframework.web.bind.annotation.RequestMapping;</span><br><span class=\"line\">import org.springframework.web.bind.annotation.RequestMethod;</span><br><span class=\"line\">import org.springframework.web.bind.annotation.ResponseBody;</span><br><span class=\"line\">import cn.sm1234.domain.Customer;</span><br><span class=\"line\">import cn.sm1234.service.CustomerService;</span><br><span class=\"line\">import com.github.pagehelper.PageInfo;</span><br><span class=\"line\">@Controller</span><br><span class=\"line\">public class CustomerController &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    //注入service对象</span><br><span class=\"line\">    @Resource</span><br><span class=\"line\">    private CustomerService customerService;</span><br><span class=\"line\"></span><br><span class=\"line\">    Map&lt;String,Object&gt; result=new HashMap&lt;String ,Object&gt;();</span><br><span class=\"line\">    @RequestMapping(&quot;/listBypage&quot;)</span><br><span class=\"line\">    @ResponseBody  // 分页查询用于转换对象为json</span><br><span class=\"line\">    public  Map&lt;String,Object&gt; listBypage(Integer page,Integer rows) &#123;</span><br><span class=\"line\">        //查询数据</span><br><span class=\"line\">        List&lt;Customer&gt; list = customerService.findAll(page,rows);</span><br><span class=\"line\">       /*</span><br><span class=\"line\">        //设置分页参数 需要在service中设置</span><br><span class=\"line\">        PageHelper.startPage(page,rows);</span><br><span class=\"line\">        */</span><br><span class=\"line\">        //将查询结果集封装到pageinfo对象中</span><br><span class=\"line\">        PageInfo&lt;Customer&gt; pageInfo=new PageInfo&lt;Customer&gt;(list);</span><br><span class=\"line\">        long total=pageInfo.getTotal();</span><br><span class=\"line\">        List&lt;Customer&gt; custList=pageInfo.getList();</span><br><span class=\"line\">        //转换城map集合 map集合会被自动转城json格式</span><br><span class=\"line\">        result.put(&quot;total&quot;,total);   //总记录数</span><br><span class=\"line\">        result.put(&quot;rows&quot;,custList); //当前页面的数据</span><br><span class=\"line\">        return result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    //增加</span><br><span class=\"line\">    @RequestMapping(value=&quot;/saveUser&quot;,method = RequestMethod.POST)</span><br><span class=\"line\">    public String save(Customer customer)&#123;</span><br><span class=\"line\">        customer.setId(null);</span><br><span class=\"line\">        customerService.save(customer);</span><br><span class=\"line\">        System.out.println(&quot;save&quot;+customer);</span><br><span class=\"line\">        return &quot;success&quot;;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    //修改</span><br><span class=\"line\">    @RequestMapping(value=&quot;/updateUser&quot;,method = RequestMethod.POST)</span><br><span class=\"line\">    public void update(Customer customer)&#123;</span><br><span class=\"line\">        customerService.save(customer);</span><br><span class=\"line\">        System.out.println(customer);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    //删除</span><br><span class=\"line\">    @RequestMapping(value=&quot;/destroyUser&quot;,method = RequestMethod.POST)</span><br><span class=\"line\">    @ResponseBody</span><br><span class=\"line\">    public String destroyUser(int id)&#123;</span><br><span class=\"line\">        customerService.delete(id);</span><br><span class=\"line\">        return &quot;success&quot;;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n\n<p>#### </p>\n<p>其他的就没有什么了，我把代码传到github吧！可以一起看看。</p>\n<figure class=\"highlight plain\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">This is [源代码](&apos;https://github.com/XNCC/demoss/tree/master&apos;).</span><br></pre></td></tr></table></div></figure>\n\n","prev":{"title":"Swagger操作样例","link":"post/Swagger学习"},"next":{"title":"腾讯云 centos7配置防火墙打开8080端口","link":"post/腾讯云 centos7配置防火墙打开8080端口"},"plink":"http://xncc.github.io/post/基于ssm框架实现增删改查操作/","copyright":{"author":"越过你画的线","link":"<a href=\"http://xncc.github.io/post/基于ssm框架实现增删改查操作/\" title=\"基于ssm的增删改查操作样例\">http://xncc.github.io/post/基于ssm框架实现增删改查操作/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"}}